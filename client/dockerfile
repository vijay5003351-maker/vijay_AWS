FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .

# If index.html is inside client/, set build context properly
WORKDIR /app/client
RUN npm run build

EXPOSE 3030